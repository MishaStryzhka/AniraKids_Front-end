{"version":3,"file":"static/js/804.42058726.chunk.js","mappings":"4LAEO,MAAMA,E,QAAeC,GAAOC,GAAEC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wV,aCIrC,MAAMC,EAAMC,EAAQ,MAoFpB,EAlFgBC,KACd,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAC1BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,IAElCG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IAEpCK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,OAC5BO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,KAClCS,EAAeC,IAAoBV,EAAAA,EAAAA,UAAS,GAEnDK,GAASM,QAAQC,IAAI,QAASP,GAE9B,MAAMQ,GAAaC,EAAAA,EAAAA,OAEnBC,EAAAA,EAAAA,YAAU,KACRpB,EACGqB,uBAAuB,CAAElB,OAAMG,aAC/BgB,MAAKC,IACJV,EAAYU,EAAKX,UACjBG,EAAiBQ,EAAKT,eACtBL,GAAa,EAAM,IAEpBe,OAAMd,IACLC,EAASD,GACTD,GAAa,EAAM,GACnB,GACH,CAACN,EAAMG,IAEV,MAAMmB,EAAeC,gBACb1B,EAAI2B,kBAAkBC,GAC5Bf,EAAYD,EAASiB,QAAOC,GAAWA,EAAQC,MAAQH,IAAW,EAG9DI,EAAeJ,IACnBV,EAAW,uCAADe,OAAwCL,GAAY,EAIhE,OAFAZ,QAAQC,IAAIL,GACZI,QAAQC,IAAIL,EAASsB,SAEnBC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACG7B,GACC2B,EAAAA,EAAAA,KAAA,KAAAE,SAAG,eACDzB,EAASsB,QACXI,EAAAA,EAAAA,MAAAF,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAACxC,EAAY,CAAA0C,SACVzB,EAAS2B,KAAIT,IACZK,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACK,EAAAA,EAAgB,CACfV,QAASA,EACTL,aAAcA,EACdO,aAAcA,KAJTF,EAAQC,UASrBO,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,QAAMlC,KACRG,EAAWH,EAAOW,IACjBqB,EAAAA,EAAAA,KAAA,UACEM,KAAK,SACLC,MAAM,YACNC,QAASA,IAAMvC,EAAQD,EAAO,GAAGkC,SAClC,cAIF/B,EAAWQ,GAAiBR,EAAWH,EAAOW,IAC7CqB,EAAAA,EAAAA,KAAA,UACEM,KAAK,SACLC,MAAM,mBACNC,QAASA,IAAMpC,EAAYD,EAAW,GAAG+B,SAC1C,eAMLF,EAAAA,EAAAA,KAACS,EAAAA,EAAQ,CAAAP,SAAC,gFAEX,C","sources":["pages/UserPage/Pages/RentOut/RentOut.styled.js","pages/UserPage/Pages/RentOut/RentOut.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ListProducts = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 64px;\n  align-items: center;\n  margin-top: 24px;\n  @media screen and (min-width: 768px) {\n    width: 630px;\n    margin: 24px auto 0;\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 64px 20px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: inherit;\n  }\n`;\n","import NotFound from 'components/NotFound/NotFound';\nimport UsersProductCard from 'components/UsersProductCard/UsersProductCard';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ListProducts } from './RentOut.styled';\n\nconst api = require('./../../../../api/product');\n\nconst RentOut = () => {\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(9);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const [error, setError] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [totalProducts, setTotalProducts] = useState(0);\n\n  error && console.log('error', error);\n\n  const navigation = useNavigate();\n\n  useEffect(() => {\n    api\n      .getCurrentUserProducts({ page, pageSize })\n      .then(data => {\n        setProducts(data.products);\n        setTotalProducts(data.totalProducts);\n        setIsLoading(false);\n      })\n      .catch(error => {\n        setError(error);\n        setIsLoading(false);\n      });\n  }, [page, pageSize]);\n\n  const handleRemove = async productId => {\n    await api.removeProductById(productId);\n    setProducts(products.filter(product => product._id !== productId));\n  };\n\n  const handleUpdate = productId => {\n    navigation(`/my-account/rent-out/update-product/${productId}`);\n  };\n  console.log(products);\n  console.log(products.length);\n  return (\n    <>\n      {isLoading ? (\n        <p>loading...</p>\n      ) : products.length ? (\n        <>\n          <ListProducts>\n            {products.map(product => (\n              <li key={product._id}>\n                <UsersProductCard\n                  product={product}\n                  handleRemove={handleRemove}\n                  handleUpdate={handleUpdate}\n                />\n              </li>\n            ))}\n          </ListProducts>\n          <p>page {page}</p>\n          {pageSize * page < totalProducts && (\n            <button\n              type=\"button\"\n              title=\"next page\"\n              onClick={() => setPage(page + 1)}\n            >\n              next page\n            </button>\n          )}\n          {pageSize < totalProducts && pageSize * page < totalProducts && (\n            <button\n              type=\"button\"\n              title=\"next load 9 card\"\n              onClick={() => setPageSize(pageSize + 9)}\n            >\n              next 9\n            </button>\n          )}\n        </>\n      ) : (\n        <NotFound>Тут поки пусто</NotFound>\n      )}\n    </>\n  );\n};\n\nexport default RentOut;\n"],"names":["ListProducts","styled","ul","_templateObject","_taggedTemplateLiteral","api","require","RentOut","page","setPage","useState","pageSize","setPageSize","isLoading","setIsLoading","error","setError","products","setProducts","totalProducts","setTotalProducts","console","log","navigation","useNavigate","useEffect","getCurrentUserProducts","then","data","catch","handleRemove","async","removeProductById","productId","filter","product","_id","handleUpdate","concat","length","_jsx","_Fragment","children","_jsxs","map","UsersProductCard","type","title","onClick","NotFound"],"sourceRoot":""}